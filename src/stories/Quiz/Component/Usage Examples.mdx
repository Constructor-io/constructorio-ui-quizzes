import * as ComponentStories from './ComponentStories.stories';
import { Meta, Controls, ArgTypes, Title, Story, Canvas, Description, Markdown } from '@storybook/blocks';

<Meta of={ComponentStories} />

<Title>Quiz Component Usage Examples</Title>

### Basic Usage
Minimal quiz implementation

```jsx
import CioQuiz from '@constructor-io/constructorio-ui-quizzes';
import '@constructor-io/constructorio-ui-quizzes/styles.css';

export function YourComponent() {
  const quizArgs = {
    quizId: 'coffee-quiz',
    apiKey: 'key_n4SkMH5PFWLdStQZ',
    resultCardOptions: {
      resultCardRegularPriceKey: 'price',
    },
  };

  return (
    <CioQuiz
      {...args}
    />
  );
}
```

### Provide CIO Client Instance
If you are already using an instance of the `ConstructorIOClient`, you can pass a `cioJsClient` instead of an `apiKey` to request results from Constructor's servers

> Note: `cioJsClient` refers to an instance of the [constructorio-client-javascript](https://www.npmjs.com/package/@constructor-io/constructorio-client-javascript)`;

```jsx
import ConstructorIOClient from '@constructor-io/constructorio-client-javascript';
import CioQuiz from '@constructor-io/constructorio-ui-quizzes';
import '@constructor-io/constructorio-ui-quizzes/styles.css';

const cioJsClient = new ConstructorIOClient({ apiKey: 'key_n4SkMH5PFWLdStQZ' });

export function YourComponent() {
  const quizArgs = {
    quizId: 'coffee-quiz',
    cioJsClient,
    resultCardOptions: {
      resultCardRegularPriceKey: 'price',
    },
  };

  return (
    <CioQuiz
      {...args}
    />
  );
}
```

### Handle Favorites On Results Page
On quiz results page. You can add/remove results as favorites. This is an example on how to handle favorites states

```jsx
import CioQuiz from '@constructor-io/constructorio-ui-quizzes';
import '@constructor-io/constructorio-ui-quizzes/styles.css';

export function YourComponent() {
  const quizArgs = {
    quizId: 'coffee-quiz',
    apiKey: 'key_n4SkMH5PFWLdStQZ',
    resultCardOptions: {
      resultCardRegularPriceKey: 'price',
    },
    callbacks: {
      onAddToFavoritesClick: 
    }
  };

  const [favorites, setFavorites] = useState<string[]>([]);

  const handleFavoritesClick = (result) => {
    if (result.data) {
      if (!favorites.includes(result.data.id)) {
        setFavorites([...favorites, result.data.id]);
      } else {
        setFavorites(favorites.filter((id) => id !== result.data?.id));
      }
    }
  }

  return (
    <CioQuiz
      {...args}
      onAddToFavoritesClick={handleFavoritesClick}
    />
  );
}
```

### Style Customizations
If you would like to use a different primary color, pass a \`primaryColor\` string in RGB format ('R, G, B').

Accent colors for borders and different states (hover, focus, active) will be calculated automatically based on the primary color you provided.

By default, the primary color has a value of "35, 71, 199" (Constructor Blue).

In the example below, the \`primaryColor\` prop has been used to override this color to "255, 82, 48" (Orange).

> Advanced Option: Instead of passing a primaryColor prop, you can also override \`--primary-color-h\`, \`--primary-color-s\`, and \`--primary-color-l\` CSS variables within a \`.cio-quiz\` container element. If explicitly given a value in your CSS, then the values of these variables will be used as the HSL values for your quiz.

```jsx
import CioQuiz from '@constructor-io/constructorio-ui-quizzes';
import '@constructor-io/constructorio-ui-quizzes/styles.css';

export function YourComponent() {
  const quizArgs = {
    quizId: 'coffee-quiz',
    apiKey: 'key_n4SkMH5PFWLdStQZ',
    primaryColor: "255, 82, 48"
  };

  return (
    <CioQuiz
      {...args}
    />
  );
}
```